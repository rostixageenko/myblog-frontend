<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>–í—Å–µ –±–ª–æ–≥–∏ ‚Äî MyBlog</title>
        <link rel="stylesheet" href="../css/user_main_page.css" />
        <link rel="icon" href="../logo/head-logo.svg" type="image/png" />
    </head>

    <body>
        <header>
            <div class="logo">
                <img
                    src="../logo/white-logo.png"
                    alt="MyBlog Logo"
                    class="logo-img"
                />
            </div>

            <div class="naming">
                <h2>
                    –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å <span id="firstName"></span>
                    <span id="lastName"></span>
                </h2>
            </div>
            <div>
                <button id="admin-btn" class="admin-btn">–ü—Ä–æ—Ñ–∏–ª—å</button>
                <button id="logout-btn" class="logout-btn">–í—ã–π—Ç–∏</button>
            </div>

            <!-- Burger (mobile) -->
            <div class="burger" id="burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </header>

        <!-- MOBILE MENU -->
        <div class="mobile-menu" id="mobileMenu">
            <div class="mobile-user">
                <div class="mobile-name">
                    <span id="firstNameMobile"></span>
                    <span id="lastNameMobile"></span>
                </div>
            </div>

            <button class="admin-btn mobile-admin">–ü—Ä–æ—Ñ–∏–ª—å</button>
            <button class="logout-btn mobile-logout">–í—ã–π—Ç–∏</button>
        </div>

        <div id="admin-modal" class="modal-overlay">
            <div class="modal">
                <span class="close-btn" id="close-modal">&times;</span>
                <h3>–ü—Ä–æ—Ñ–∏–ª—å</h3>
                <div class="field">
                    <label>–ò–º—è</label>
                    <input
                        type="text"
                        id="admin-first-name"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è"
                    />
                </div>
                <div class="field">
                    <label>–§–∞–º–∏–ª–∏—è</label>
                    <input
                        type="text"
                        id="admin-last-name"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ —Ñ–∞–º–∏–ª–∏—é"
                    />
                </div>
                <div class="field">
                    <label>Email</label>
                    <input
                        type="email"
                        id="admin-email"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ email"
                    />
                    <span class="comment"
                        >–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç—å email (–±–µ–∑ –ø–æ—á—Ç—ã –Ω–µ –≤–æ–∑–º–æ–∂–Ω–æ
                        –∏–∑–º–µ–∏—Ç—å –ø–∞—Ä–æ–ª—å)
                    </span>
                </div>

                <div class="field">
                    <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input
                        type="tel"
                        id="admin-phone"
                        placeholder="+375********* –∏–ª–∏ +7**********"
                    />
                </div>

                <button id="save-admin" class="save-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button
                    id="reset-password-admin"
                    class="save-btn"
                    style="margin-left: 10px"
                >
                    –°–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å
                </button>
            </div>
        </div>

        <main>
            <!-- üî• –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Å–ø–∏—Å–æ–∫ –±–ª–æ–≥–æ–≤ –∞–≤—Ç–æ—Ä–æ–≤ -->
            <div class="blogs-list">
                <h2>–ë–ª–æ–≥–∏ –∞–≤—Ç–æ—Ä–æ–≤</h2>
                <div id="authorsContainer"></div>
            </div>

            <!-- üî• –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ø–æ—Å—Ç—ã –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∞ -->
            <div class="blog-container">
                <div id="postsContainer"></div>
            </div>
        </main>

        <script src="../js/user_script.js"></script>
        <script src="../js/profile_modal.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const maxLength = 50;

                const emailField = document.getElementById('admin-email');
                const phoneField = document.getElementById('admin-phone');

                // –í—Å–µ inputs –∏ textarea, –∏—Å–∫–ª—é—á–∞—è —Ç–µ–ª–µ—Ñ–æ–Ω
                const inputs = document.querySelectorAll('input');

                inputs.forEach((field) => {
                    field.addEventListener('input', () => {
                        // –£–¥–∞–ª—è–µ–º –≤—Å–µ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã
                        if (field === emailField || field === phoneField) {
                            field.value = field.value.replace(
                                /[–ê-–Ø–∞-—è–Å—ë]/g,
                                ''
                            );
                        }

                        // –ï—Å–ª–∏ —ç—Ç–æ –ø–æ–ª–µ email ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ–º —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
                        if (field === emailField) {
                            field.value = field.value.replace(
                                /[^A-Za-z0-9@.]/g,
                                ''
                            );
                        }

                        // –ï—Å–ª–∏ —ç—Ç–æ –ø–æ–ª–µ –ø–∞—Ä–æ–ª—å ‚Äî —Ä–∞–∑—Ä–µ—à–∞–µ–º —Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω–∏—Ü—É –∏ —Ü–∏—Ñ—Ä—ã
                        if (field === phoneField) {
                            field.value = field.value.replace(/[^0-9+]/g, '');
                        }

                        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã
                        if (field.value.length > maxLength) {
                            alert(
                                '–ü—Ä–µ–≤—ã—à–µ–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ ‚Äî 50'
                            );
                            field.value = field.value.slice(0, maxLength);
                        }
                    });
                });
            });
        </script>
    </body>
</html>
